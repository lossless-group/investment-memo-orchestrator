# Changelog: VC Mindset Framing in Writer Prompts

**Date**: 2025-11-28
**Type**: Enhancement
**Scope**: Agent prompts (writer, researcher, improve_section)

## Summary

Added explicit "Venture Capital mindset" framing to all memo-writing agent prompts to ensure generated content focuses on opportunity and upside rather than defaulting to Private Equity-style skepticism.

## Problem

Memos were exhibiting PE-style framing:
- Sections ending with skeptical wrap-ups ("However, the investment thesis depends on...")
- "Assessment" subsections enumerating concerns and conditions to validate
- Narrative framed around "what could go wrong" instead of "what could go right"
- Hedging language throughout, even in non-risk sections

This tone is appropriate for PE due diligence but inappropriate for VC investment memos where the goal is to identify potential winners and build conviction.

## Solution

Added VC mindset framing blocks to four files:

### 1. `src/agents/writer.py`

**Base system prompt update:**

```python
WRITER_SYSTEM_PROMPT_BASE = """You are an investment analyst writing memos for Hypernova Capital, a VENTURE CAPITAL firm.
# ...
KEY WRITING PRINCIPLES:
1. VENTURE CAPITAL MINDSET - Look for reasons this could be a massive winner, while being honest about risks
2. Specific metrics over vague claims (use exact numbers, dates, names)
3. Lead with opportunity, acknowledge risks in the appropriate section
# ...

VENTURE CAPITAL vs PRIVATE EQUITY FRAMING:
- VC asks "What could go RIGHT?" not "What could go wrong?"
- VC looks for POTENTIAL while being aware of flaws
- VC builds the case for upside, not the case for passing
- Save skepticism and risk enumeration for Section 8 (Risks & Mitigations)
- Do NOT end sections with caveats, conditions, or "what needs to be validated"
- Observations and conclusions are encouraged - but frame as opportunity
```

**Polish section research prompt (added VC mindset box):**

```python
╔══════════════════════════════════════════════════════════════════════════════╗
║ VENTURE CAPITAL MINDSET (not Private Equity)                                ║
╚══════════════════════════════════════════════════════════════════════════════╝

You are writing for a VC firm. VCs look for reasons to INVEST, not reasons to PASS.

VC FRAMING (what we want):
- Lead with opportunity and potential - "What could go RIGHT?"
- Draw observations and conclusions that highlight upside
- Connect facts to why this could be a massive winner
- Acknowledge risks exist, but save detailed risk analysis for Section 8

PE FRAMING (what to avoid):
- Do NOT end the section with skeptical wrap-ups or caveats
- Do NOT add "However, the investment thesis depends on..." (save for Section 10)
- Do NOT include "Conditions that need to be validated..." paragraphs
- Do NOT add "Assessment" subsections that enumerate concerns
```

**Critical rules section (added as rule 0):**

```python
0. VENTURE CAPITAL MINDSET (not Private Equity)
   You are writing for a VC firm. VCs look for reasons to INVEST, not reasons to PASS.

   VC FRAMING (what we want):
   - "What could go RIGHT?" - lead with opportunity and potential
   - Draw observations and conclusions that highlight upside
   - Connect facts to why this could be a massive winner
   - Acknowledge risks exist, but save detailed risk analysis for Section 8

   PE FRAMING (what to avoid):
   - Do NOT end every section with skeptical wrap-ups or caveats
   - Do NOT add "However, the investment thesis depends on..." (save for Section 10)
   - Do NOT include "Conditions that need to be validated..." paragraphs
   - Do NOT add "Assessment" subsections that enumerate concerns
   - Do NOT frame the narrative around "what could go wrong"

   Observations and conclusions are GOOD - just frame them as opportunity, not skepticism.
```

### 2. `src/agents/perplexity_section_researcher.py`

Added to the research system prompt:

```python
VENTURE CAPITAL MINDSET (not Private Equity):
VCs look for reasons to INVEST, not reasons to PASS. Frame the narrative around opportunity.

- Lead with potential and upside - "What could go RIGHT?"
- Draw observations and conclusions - but frame as opportunity, not skepticism
- Acknowledge risks exist, but save detailed risk analysis for Section 8 (Risks & Mitigations)
- Do NOT end sections with skeptical wrap-ups ("However, the investment thesis depends on...")
- Do NOT add "Assessment" subsections that enumerate concerns or conditions to validate
- Do NOT frame the narrative around "what could go wrong" - that's PE thinking
```

### 3. `cli/improve_section.py`

Added to the section improvement prompt:

```python
VENTURE CAPITAL MINDSET (not Private Equity):
VCs look for reasons to INVEST, not reasons to PASS. Frame the narrative around opportunity.

- Lead with potential and upside - "What could go RIGHT?"
- Draw observations and conclusions - but frame as opportunity, not skepticism
- Acknowledge risks exist, but save detailed risk analysis for Section 8 (Risks & Mitigations)
- Do NOT end sections with skeptical wrap-ups ("However, the investment thesis depends on...")
- Do NOT add "Assessment" subsections that enumerate concerns or conditions to validate
- Do NOT frame the narrative around "what could go wrong" - that's PE thinking
```

### 4. `src/agents/research_enhanced.py`

**Bug fix**: Moved `urlparse` import to module level instead of inline imports within functions. This was causing import errors when the module was loaded.

```python
# Before (inline imports causing issues):
def generate_queries_from_deck(...):
    # ...
    if company_url:
        from urllib.parse import urlparse  # BAD: inline import
        parsed = urlparse(company_url)

# After (module-level import):
from urllib.parse import urlparse  # GOOD: top-level import

def generate_queries_from_deck(...):
    # ...
    if company_url:
        parsed = urlparse(company_url)
```

## Files Changed

| File | Change Type | Description |
|------|-------------|-------------|
| `src/agents/writer.py` | Enhancement | Added VC mindset framing to base prompt, polish prompt, and critical rules |
| `src/agents/perplexity_section_researcher.py` | Enhancement | Added VC mindset framing to research system prompt |
| `cli/improve_section.py` | Enhancement | Added VC mindset framing to section improvement prompt |
| `src/agents/research_enhanced.py` | Bug fix | Moved `urlparse` import to module level |

## Expected Outcome

Memos should now:
- Lead sections with opportunity and potential
- Reserve skepticism for Section 8 (Risks & Mitigations) and Section 10 (Recommendation)
- Avoid PE-style "Assessment" subsections within opportunity sections
- Not end sections with hedging paragraphs about "what needs to be validated"
- Frame observations as opportunities rather than concerns

## Testing

Regenerated Andela memo with updated prompts. Sections should exhibit VC tone rather than PE skepticism throughout sections 1-7 and 9, with risks appropriately contained in section 8.
